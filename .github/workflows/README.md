# ü§ñ GitHub Actions –¥–ª—è MacPortScanner

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ workflows –¥–ª—è —Å–±–æ—Ä–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–µ–ª–∏–∑–æ–≤ MacPortScanner.

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ Workflows

### 1. üöÄ Build and Release (`release.yml`)

**–¢—Ä–∏–≥–≥–µ—Ä**: Push —Ç–µ–≥–æ–≤ –≤–µ—Ä—Å–∏–π (`v*.*.*`)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**:
- üî® –°–æ–±–∏—Ä–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è macOS (ARM64 + Intel)
- üì¶ –°–æ–∑–¥–∞–µ—Ç DMG –∏ ZIP —Ñ–∞–π–ª—ã
- üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç GitHub Release
- üìù –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç release notes –∏–∑ CHANGELOG.md

**–§–∞–π–ª—ã —Ä–µ–ª–∏–∑–∞**:
- `MacPortScanner-X.X.X-arm64.dmg` - –¥–ª—è Apple Silicon
- `MacPortScanner-X.X.X.dmg` - –¥–ª—è Intel Mac
- `MacPortScanner-X.X.X-arm64-mac.zip` - ZIP –¥–ª—è Apple Silicon
- `MacPortScanner-X.X.X-mac.zip` - ZIP –¥–ª—è Intel Mac

### 2. üîç Build Check (`build-check.yml`)

**–¢—Ä–∏–≥–≥–µ—Ä**: Push –≤ `main`/`develop`, Pull Requests

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**:
- üîç –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏–Ω—Ç–∏–Ω–≥ (ESLint)
- üîß –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø—ã (TypeScript)
- üî® –¢–µ—Å—Ç–∏—Ä—É–µ—Ç —Å–±–æ—Ä–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- üß™ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç electron-builder (dry run)

### 3. üì¶ Auto Version Bump (`auto-version.yml`)

**–¢—Ä–∏–≥–≥–µ—Ä**: Push –≤ `main` (–∫—Ä–æ–º–µ –∫–æ–º–º–∏—Ç–æ–≤ —Å `[skip-version]`)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**:
- üîç –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–º–º–∏—Ç –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –≤–µ—Ä—Å–∏–∏
- üì¶ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤–µ—Ä—Å–∏—é –≤ package.json
- üìö –û–±–Ω–æ–≤–ª—è–µ—Ç CHANGELOG.md
- üè∑Ô∏è –°–æ–∑–¥–∞–µ—Ç –∏ –ø—É—à–∏—Ç git —Ç–µ–≥
- üöÄ –ó–∞–ø—É—Å–∫–∞–µ—Ç workflow —Ä–µ–ª–∏–∑–∞

## üéØ –õ–æ–≥–∏–∫–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –≤–µ—Ä—Å–∏–∏:

| –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –≤ –∫–æ–º–º–∏—Ç–µ | –¢–∏–ø –≤–µ—Ä—Å–∏–∏ | –ü—Ä–∏–º–µ—Ä |
|-------------------------|------------|---------|
| `BREAKING`, `üí•`, `breaking` | **Major** | 1.0.0 ‚Üí 2.0.0 |
| `feat`, `‚ú®`, `feature`, `add` | **Minor** | 1.0.0 ‚Üí 1.1.0 |
| `fix`, `üêõ`, `bug`, `patch` | **Patch** | 1.0.0 ‚Üí 1.0.1 |
| –û—Å—Ç–∞–ª—å–Ω—ã–µ | **Patch** | 1.0.0 ‚Üí 1.0.1 |

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–º–∏—Ç–æ–≤:

```bash
# Major –≤–µ—Ä—Å–∏—è (1.0.0 ‚Üí 2.0.0)
git commit -m "üí• BREAKING: redesign API interface"

# Minor –≤–µ—Ä—Å–∏—è (1.0.0 ‚Üí 1.1.0)  
git commit -m "‚ú® feat: add UDP scanning support"

# Patch –≤–µ—Ä—Å–∏—è (1.0.0 ‚Üí 1.0.1)
git commit -m "üêõ fix: resolve memory leak in scanner"

# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git commit -m "üìù docs: update README [skip-version]"
```

## üöÄ Workflow –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–ª–∏–∑:
1. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞** ‚Üí Push –∫–æ–º–º–∏—Ç–æ–≤ –≤ `main`
2. **–ê–≤—Ç–æ–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí –°–æ–∑–¥–∞–µ—Ç—Å—è —Ç–µ–≥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. **–°–±–æ—Ä–∫–∞ –∏ —Ä–µ–ª–∏–∑** ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è GitHub Release

### –†—É—á–Ω–æ–π —Ä–µ–ª–∏–∑:
1. **–û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é** ‚Üí `./.dev-scripts/version-bump.sh`
2. **Push —Ç–µ–≥–∞** ‚Üí `git push origin v1.2.3`
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞** ‚Üí GitHub Action —Å–æ–∑–¥–∞–µ—Ç —Ä–µ–ª–∏–∑

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- ‚úÖ **macOS runner** –¥–ª—è —Å–±–æ—Ä–∫–∏ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- ‚úÖ **GITHUB_TOKEN** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- ‚úÖ **Node.js 18+** –¥–ª—è —Å–±–æ—Ä–∫–∏

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```yaml
env:
  NODE_VERSION: '18'  # –í–µ—Ä—Å–∏—è Node.js
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è:
```yaml
env:
  CSC_IDENTITY_AUTO_DISCOVERY: false  # –û—Ç–∫–ª—é—á–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ –≤ CI
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –°—Ç–∞—Ç—É—Å workflows:
- üü¢ **–£—Å–ø–µ—à–Ω–æ** - –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—à–ª–∏
- üü° **–í –ø—Ä–æ—Ü–µ—Å—Å–µ** - workflow –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
- üî¥ **–û—à–∏–±–∫–∞** - —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è

### –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Actions** –Ω–∞ GitHub
2. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π workflow run
3. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞

## üõ†Ô∏è –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤:
```yaml
on:
  push:
    branches: [ main, develop, feature/* ]  # –î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ç–∫–∏
    tags: [ 'v*.*.*', 'beta-*' ]           # –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–≥–∏
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:
```yaml
- name: üì¢ Slack Notification
  uses: 8398a7/action-slack@v3
  with:
    status: ${{ job.status }}
    webhook_url: ${{ secrets.SLACK_WEBHOOK }}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤:
```yaml
- name: üß™ Run Tests
  run: npm test
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Secrets (–Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è):
- `GITHUB_TOKEN` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è GitHub

### Permissions:
```yaml
permissions:
  contents: write  # –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ª–∏–∑–æ–≤
  actions: read    # –î–ª—è —á—Ç–µ–Ω–∏—è workflow —Å—Ç–∞—Ç—É—Å–∞
```

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –°–±–æ—Ä–∫–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ç–µ–≥–∞ (`v1.2.3`)

### –ü—Ä–æ–±–ª–µ–º–∞: –§–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ —Ä–µ–ª–∏–∑
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –≤ `build/release/`

### –ü—Ä–æ–±–ª–µ–º–∞: –í–µ—Ä—Å–∏—è –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–æ–º–º–∏—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç `[skip-version]`

### –ü—Ä–æ–±–ª–µ–º–∞: electron-builder –ø–∞–¥–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã (main.js, preload.js, index.html) —Å–æ–∑–¥–∞–Ω—ã

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

Workflows –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
- ‚è±Ô∏è –í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏
- üì¶ –†–∞–∑–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤
- üè∑Ô∏è –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ª–∏–∑–æ–≤
- üìä –£—Å–ø–µ—à–Ω–æ—Å—Ç—å —Å–±–æ—Ä–æ–∫

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GitHub Actions:
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–ª–∏–∑—ã** –ø—Ä–∏ push —Ç–µ–≥–æ–≤
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏** –Ω–∞ –∫–∞–∂–¥—ã–π –∫–æ–º–º–∏—Ç
- ‚úÖ **–ê–≤—Ç–æ–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø–æ –∫–æ–º–º–∏—Ç–∞–º
- ‚úÖ **DMG —Ñ–∞–π–ª—ã** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Ä–µ–ª–∏–∑–∞—Ö
- ‚úÖ **–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** CI/CD –ø—Ä–æ—Ü–µ—Å—Å–∞

---

**GitHub Actions –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**