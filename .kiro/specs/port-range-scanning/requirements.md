# Requirements Document

## Introduction

Добавление поддержки сканирования диапазонов портов в MacPortScanner. Пользователи должны иметь возможность указывать диапазоны портов (например, 22-443) в дополнение к существующему списку отдельных портов через запятую.

## Requirements

### Requirement 1

**User Story:** Как пользователь сканера портов, я хочу указывать диапазоны портов в формате "начало-конец", чтобы не перечислять каждый порт отдельно при сканировании больших диапазонов.

#### Acceptance Criteria

1. WHEN пользователь вводит "22-80" в поле портов THEN система должна интерпретировать это как порты от 22 до 80 включительно
2. WHEN пользователь вводит "80-22" (обратный порядок) THEN система должна показать ошибку валидации
3. WHEN пользователь вводит диапазон больше 1000 портов THEN система должна показать предупреждение о времени сканирования
4. WHEN пользователь вводит "22-22" THEN система должна интерпретировать это как один порт 22

### Requirement 2

**User Story:** Как пользователь, я хочу комбинировать отдельные порты и диапазоны в одном запросе, чтобы гибко настраивать сканирование.

#### Acceptance Criteria

1. WHEN пользователь вводит "22,80-443,3389" THEN система должна сканировать порт 22, диапазон 80-443, и порт 3389
2. WHEN пользователь вводит "80-90,22,443-445" THEN система должна корректно парсить все элементы
3. WHEN в комбинированном списке есть дублирующиеся порты THEN система должна удалить дубликаты
4. WHEN пользователь вводит пробелы вокруг запятых или дефисов THEN система должна игнорировать лишние пробелы

### Requirement 3

**User Story:** Как пользователь, я хочу видеть валидацию ввода диапазонов портов в реальном времени, чтобы сразу понимать корректность своего ввода.

#### Acceptance Criteria

1. WHEN пользователь вводит некорректный диапазон THEN система должна показать красную подсветку поля
2. WHEN пользователь вводит корректный диапазон THEN система должна показать зеленую подсветку поля
3. WHEN пользователь вводит диапазон с портом больше 65535 THEN система должна показать ошибку "Порт не может быть больше 65535"
4. WHEN пользователь вводит диапазон с портом меньше 1 THEN система должна показать ошибку "Порт не может быть меньше 1"

### Requirement 4

**User Story:** Как пользователь, я хочу видеть количество портов для сканирования перед запуском, чтобы понимать объем работы.

#### Acceptance Criteria

1. WHEN пользователь вводит список портов THEN система должна показать "Портов для сканирования: X"
2. WHEN количество портов больше 100 THEN система должна показать предупреждение о времени выполнения
3. WHEN количество портов больше 1000 THEN система должна показать дополнительное подтверждение перед запуском
4. WHEN пользователь изменяет список портов THEN счетчик должен обновляться в реальном времени

### Requirement 5

**User Story:** Как пользователь, я хочу использовать предустановленные диапазоны портов, чтобы быстро выбирать популярные наборы для сканирования.

#### Acceptance Criteria

1. WHEN пользователь открывает выпадающий список предустановок THEN система должна показать опции: "Популярные (22,80,443,3389)", "Веб-серверы (80-90,443,8000-8080)", "Базы данных (3306,5432,1433,27017)"
2. WHEN пользователь выбирает предустановку THEN поле портов должно заполниться соответствующими значениями
3. WHEN пользователь выбирает "Все порты (1-65535)" THEN система должна показать предупреждение о длительности сканирования
4. WHEN пользователь выбирает предустановку THEN он должен иметь возможность редактировать список дальше