# üéØ –°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã MacPortScanner

**–î–∞—Ç–∞ —Ñ–∏–∫—Å–∞—Ü–∏–∏**: 15 –∞–≤–≥—É—Å—Ç–∞ 2025  
**–í–µ—Ä—Å–∏—è**: 1.0.12  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

## üìã –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–µ–ª–∏–∑—ã
- **Workflow**: `.github/workflows/auto-release.yml`
- **–¢—Ä–∏–≥–≥–µ—Ä**: –ö–æ–º–º–∏—Ç—ã —Å `feat:`, `fix:`, `BREAKING:`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–≥–æ–≤, —Å–±–æ—Ä–∫–∞ DMG, –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–µ–ª–∏–∑–æ–≤

### ‚úÖ –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **React frontend**: Vite —Å–±–æ—Ä–∫–∞ –≤ `build/dist`
- **Electron backend**: TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è main.js –∏ preload.js
- **macOS DMG**: electron-builder —Å–æ–∑–¥–∞–µ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ DMG —Ñ–∞–π–ª—ã
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**: arm64 –∏ x64 (Apple Silicon + Intel)

### ‚úÖ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º macOS Gatekeeper
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `hardenedRuntime: false`, `identity: null`
- **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏**: –ü–æ–¥—Ä–æ–±–Ω—ã–µ –≤ README.md –∏ INSTALLATION.md
- **–ö–æ–º–∞–Ω–¥–∞**: `xattr -cr /Applications/MacPortScanner.app`

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### package.json (electron-builder)
```json
"mac": {
  "category": "public.app-category.developer-tools",
  "target": [
    {
      "target": "dmg",
      "arch": ["arm64", "x64"]
    },
    {
      "target": "zip", 
      "arch": ["arm64", "x64"]
    }
  ],
  "darkModeSupport": true,
  "hardenedRuntime": false,
  "gatekeeperAssess": false,
  "identity": null,
  "type": "distribution",
  "extendInfo": {
    "LSUIElement": false
  }
}
```

### Workflow –ª–æ–≥–∏–∫–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `feat:` ‚Üí minor –≤–µ—Ä—Å–∏—è (1.0.0 ‚Üí 1.1.0)
- `fix:` ‚Üí patch –≤–µ—Ä—Å–∏—è (1.0.0 ‚Üí 1.0.1)  
- `BREAKING:` ‚Üí major –≤–µ—Ä—Å–∏—è (1.0.0 ‚Üí 2.0.0)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
MacPortScanner/
‚îú‚îÄ‚îÄ .github/workflows/
‚îÇ   ‚îú‚îÄ‚îÄ auto-release.yml      # ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π workflow (–ê–ö–¢–ò–í–ï–ù)
‚îÇ   ‚îú‚îÄ‚îÄ build-check.yml       # ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ auto-version.yml      # ‚ùå –û—Ç–∫–ª—é—á–µ–Ω
‚îÇ   ‚îî‚îÄ‚îÄ release.yml           # ‚ùå –û—Ç–∫–ª—é—á–µ–Ω
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.ts              # Electron main process
‚îÇ   ‚îú‚îÄ‚îÄ preload.ts           # IPC bridge
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx              # React frontend
‚îÇ   ‚îî‚îÄ‚îÄ components/ui/       # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ build/
‚îÇ   ‚îú‚îÄ‚îÄ dist/               # –°–æ–±—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ electron/           # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Electron
‚îÇ   ‚îî‚îÄ‚îÄ release/            # DMG –∏ ZIP —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ README.md               # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ INSTALLATION.md         # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
‚îî‚îÄ‚îÄ STABLE_STATE.md         # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–µ–ª–∏–∑–∞
```bash
# –î–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (minor –≤–µ—Ä—Å–∏—è)
git commit -m "feat: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è"
git push

# –î–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (patch –≤–µ—Ä—Å–∏—è)  
git commit -m "fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≤ UI"
git push

# –î–ª—è breaking changes (major –≤–µ—Ä—Å–∏—è)
git commit -m "BREAKING: –∏–∑–º–µ–Ω–µ–Ω API —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è"
git push
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
1. **Auto Version and Release** –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
2. **–í–µ—Ä—Å–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** –≤ package.json
3. **CHANGELOG.md –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è**
4. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è** (React + Electron)
5. **DMG —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è** –¥–ª—è arm64 –∏ x64
6. **–¢–µ–≥ —Å–æ–∑–¥–∞–µ—Ç—Å—è** –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ GitHub
7. **–†–µ–ª–∏–∑ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è** —Å DMG —Ñ–∞–π–ª–∞–º–∏ –∏ release notes

## üìä –ü–æ—Å–ª–µ–¥–Ω–∏–µ —É—Å–ø–µ—à–Ω—ã–µ —Ä–µ–ª–∏–∑—ã

- **v1.0.9**: –ü–µ—Ä–≤—ã–π –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π —Ä–µ–ª–∏–∑ —Å DMG
- **v1.0.11**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è Gatekeeper
- **v1.0.12**: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

## üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —ç—Ç–æ–π —Ç–æ—á–∫–∏

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–µ—Ç—Å—è, –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –∫–æ–º–º–∏—Ç—É —Å —ç—Ç–∏–º —Ñ–∞–π–ª–æ–º:

```bash
# –ù–∞–π—Ç–∏ –∫–æ–º–º–∏—Ç —Å STABLE_STATE.md
git log --oneline --grep="STABLE_STATE"

# –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
git checkout <commit-hash>

# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ç–∫—É –æ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ç–æ—á–∫–∏
git checkout -b restore-stable-state
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ù–µ –∏–∑–º–µ–Ω—è–π—Ç–µ** `.github/workflows/auto-release.yml` –±–µ–∑ –∫—Ä–∞–π–Ω–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã** –≤ –∫–æ–º–º–∏—Ç–∞—Ö: `feat:`, `fix:`, `BREAKING:`
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ Actions** –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ push: https://github.com/iwizard7/MacPortScanner/actions
4. **DMG —Ñ–∞–π–ª—ã** –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ Releases: https://github.com/iwizard7/MacPortScanner/releases

## üéØ –ß—Ç–æ –ù–ï —Ç—Ä–æ–≥–∞—Ç—å

- ‚ùå `auto-version.yml` –∏ `release.yml` (–æ—Ç–∫–ª—é—á–µ–Ω—ã, –Ω–æ –æ—Å—Ç–∞–≤–ª–µ–Ω—ã –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏)
- ‚ùå –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é electron-builder –≤ package.json (—Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ)
- ‚ùå –ö–æ–º–∞–Ω–¥—ã sed –≤ auto-release.yml (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –¥–ª—è macOS)

## ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–∞

**–û–¥–∏–Ω –∫–æ–º–º–∏—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–º = –≥–æ—Ç–æ–≤—ã–π —Ä–µ–ª–∏–∑ —Å DMG —Ñ–∞–π–ª–∞–º–∏!** üöÄ